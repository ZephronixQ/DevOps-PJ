# Eviction

## PodDisruptionBudget

**PodDisruptionBudget (PDB)** управляет тем, сколько Pod-ов может быть недоступно одновременно во время выполнения операций обслуживания, таких как обновления или масштабирование. PDB помогает обеспечить, чтобы ваше приложение всегда оставалось доступным и имело достаточное количество работающих Pod-ов.

```yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
    name: demo-pdb
spec:
    minAvailable: 3
    selector:
        matchLabels:
            app: demo
```

- **`minAvailable`**: Минимальное количество Pod-ов, которые должны оставаться доступными во время обслуживания. Значение `3` означает, что как минимум 3 Pod-а должны быть доступны, чтобы обеспечить непрерывную работу приложения.

Вместо **`minAvailable`** можно использовать параметр **`maxUnavailable`**, чтобы указать максимальное количество Pod-ов, которые могут быть недоступны во время операции обслуживания:

```yaml
spec:
    maxUnavailable: 10%
```

- **`maxUnavailable`**: Максимальное количество Pod-ов, которые могут быть недоступны. Значение `10%` означает, что не более 10% Pod-ов могут быть недоступны одновременно, чтобы обеспечить доступность приложения.

## Заключение

**PodDisruptionBudget (PDB)** является важным инструментом для управления доступностью ваших приложений во время операций обслуживания. Он помогает гарантировать, что достаточное количество Pod-ов остается доступным, предотвращая ситуации, когда приложение становится недоступным из-за обновлений или масштабирования.

Использование **`minAvailable`** позволяет задать минимальное количество доступных Pod-ов, тогда как **`maxUnavailable`** предоставляет гибкость в управлении допустимым количеством недоступных Pod-ов. Выбор между этими параметрами зависит от ваших требований к доступности и характеристик приложения.

Настройка PodDisruptionBudget помогает поддерживать высокую доступность и надежность ваших приложений, улучшая их устойчивость к сбоям и обеспечивая плавное выполнение операций обслуживания.
